<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>Edinburgh Speech Tools: Executable Programs</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="est.jpg"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Edinburgh Speech Tools
   &#160;<span id="projectnumber">2.1-release</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('estexec.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Executable Programs </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2>Manuals</h2>
<p>See <a class="el" href="estmanuals.html">Manuals</a> for more information</p>
<h1><a class="anchor" id="estexecbuilding"></a>
Building your own executable programs</h1>
<p>A simple mechanism is provided for doing all the configuration needed to build a executable program which uses the speech tools library.</p>
<p>First, make a directory which will hold your program. To make a program called "do_stuff", type </p>
<pre class="fragment">est_program do_stuff
</pre><p>if you haven't got the EST bin directory in your path you will have to add the path explicitly, e.g. </p>
<pre class="fragment">speech_tools/bin/est_program do_stuff
</pre><p>This will create a Makefile and a .cc file called <em>do_stuff_main.cc</em>, which will look something like this:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;EST.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;EST_types.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;EST_error.h&quot;</span></div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> *argv[]) </div>
<div class="line">{ </div>
<div class="line">    <a class="code" href="classEST__TList.html">EST_StrList</a> files; <span class="comment">// the list of input files will go here</span></div>
<div class="line">    <a class="code" href="classEST__Option.html">EST_Option</a> cmd_line; <span class="comment">// the parsed list of command line arguments</span></div>
<div class="line">                     <span class="comment">// will go here.</span></div>
<div class="line"></div>
<div class="line">      <span class="comment">// This bit parses the command line args and puts them into</span></div>
<div class="line">      <span class="comment">// files and cmd_line</span></div>
<div class="line">    parse_command_line</div>
<div class="line">        (argc, argv, </div>
<div class="line">         <a class="code" href="classEST__String.html">EST_String</a>(<span class="stringliteral">&quot;[OPTIONS] [files...]\n&quot;</span>)+</div>
<div class="line">         <span class="stringliteral">&quot;Summary; DO SOMETHING\n&quot;</span>+</div>
<div class="line">         <span class="stringliteral">&quot;-o [ofile]       Ouptut file\n&quot;</span>,</div>
<div class="line">         files, cmd_line);</div>
<div class="line"></div>
<div class="line">    <a class="code" href="classEST__String.html">EST_String</a> out_file; <span class="comment">// the name of the output file</span></div>
<div class="line"></div>
<div class="line">    <span class="comment">// If a output file has been specified using -o, put it in out_file</span></div>
<div class="line">    <span class="keywordflow">if</span> (cmd_line.<a class="code" href="classEST__TKVL.html#a78913afde7a04122a791476dbd7ee6f3" title="Returns true if key is present.">present</a>(<span class="stringliteral">&quot;-o&quot;</span>))</div>
<div class="line">      out_file = cmd_line.<a class="code" href="classEST__TKVL.html#a25991a283aebf6751322256e5c4a8c3c" title="return value according to key (const)">val</a>(<span class="stringliteral">&quot;-o&quot;</span>);</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">      EST_error(<span class="stringliteral">&quot;No output file specified&quot;</span>);</div>
<div class="line"></div>
<div class="line">   <span class="comment">// declare EST_StrList iterator</span></div>
<div class="line">    <a class="code" href="classEST__TIterator.html">EST_StrList::Entries</a> fs;</div>
<div class="line"></div>
<div class="line">    <span class="comment">// iterate through files and do something.</span></div>
<div class="line">    <span class="keywordflow">for</span>(fs.<a class="code" href="classEST__TIterator.html#a3e4224f5d84ca10fb51fb88cfe7dd9d4" title="Set the iterator ready to run over this container.">begin</a>(files); fs; ++fs)</div>
<div class="line">      {</div>
<div class="line">        <a class="code" href="classEST__String.html">EST_String</a> file = *fs;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Process file</span></div>
<div class="line">      }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --><p>You can now add any C++ code to this, and compile by typing <em>make</em>.</p>
<p>If you want to create a second program in the same directory, type the same again: </p>
<pre class="fragment">speech_tools/bin/est_program do_more_stuff
</pre><p>This time, <em>do_more_stuff_main.cc</em> will be created and the appropriate build commands added to the extisting Makefile. If you wish to add an extra .cc file to particular program, simply edit the Makefile and add it on the line: </p>
<pre class="fragment">do_stuff_CXXSRC= do_stuff.cc extra.cc</pre> </div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Wed Dec 11 2013 01:00:11 for Edinburgh Speech Tools by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.3.1 </li>
  </ul>
</div>
</body>
</html>
